# TinyPNG é€’å½’ç›®å½•å›¾ç‰‡å‹ç¼©å·¥å…· ğŸš€

ä¸€ä¸ªåŸºäº node å’Œ TinyPNG API çš„é«˜æ•ˆå›¾ç‰‡æ‰¹é‡å‹ç¼©å·¥å…·ï¼Œæ”¯æŒé€’å½’å¤„ç†æ•´ä¸ªç›®å½•ç»“æ„ï¼Œè‡ªåŠ¨å‹ç¼©å›¾ç‰‡å¹¶ä¿æŒåŸæœ‰æ–‡ä»¶ç»„ç»‡ç»“æ„ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **é€’å½’ç›®å½•æ‰«æ** - è‡ªåŠ¨æ‰«ææŒ‡å®šç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•ä¸­çš„å›¾ç‰‡æ–‡ä»¶
- **æ‰¹é‡å›¾ç‰‡å‹ç¼©** - ä½¿ç”¨ TinyPNG å®˜æ–¹ API è¿›è¡Œé«˜è´¨é‡å›¾ç‰‡å‹ç¼©
- **å¤šæ ¼å¼æ”¯æŒ** - æ”¯æŒ `.jpg`ã€`.jpeg`ã€`.png`ã€`.webp` æ ¼å¼çš„å›¾ç‰‡å‹ç¼©
- **ç›®å½•ç»“æ„ä¿æŒ** - å‹ç¼©åçš„æ–‡ä»¶ä¿æŒä¸åŸç›®å½•ç›¸åŒçš„æ–‡ä»¶å¤¹ç»“æ„
- **éå‹ç¼©æ–‡ä»¶å¤åˆ¶** - è‡ªåŠ¨å¤åˆ¶ `.svg`ã€`.gif` ç­‰éå‹ç¼©æ ¼å¼æ–‡ä»¶åˆ°è¾“å‡ºç›®å½•

### âš¡ æ€§èƒ½ä¼˜åŒ–
- **å¤šå¹¶å‘å¤„ç†** - åŸºäº CPU æ ¸å¿ƒæ•°è‡ªåŠ¨è°ƒæ•´å¹¶å‘æ•°é‡ï¼Œæé«˜å¤„ç†æ•ˆç‡
- **æ™ºèƒ½é‡è¯•æœºåˆ¶** - å¤±è´¥æ–‡ä»¶è‡ªåŠ¨é‡è¯•ï¼Œæœ€å¤§é‡è¯•æ¬¡æ•°å¯é…ç½®
- **ä»»åŠ¡å»¶è¿Ÿæ§åˆ¶** - é¿å…è¿‡äºé¢‘ç¹çš„ API è¯·æ±‚ï¼Œé˜²æ­¢è¢«é™æµ
- **è¿›åº¦æ¡æ˜¾ç¤º** - å®æ—¶æ˜¾ç¤ºå‹ç¼©è¿›åº¦å’Œå¤„ç†çŠ¶æ€

### ğŸ›¡ï¸ é”™è¯¯å¤„ç†
- **å¤±è´¥æ–‡ä»¶ç®¡ç†** - å‹ç¼©å¤±è´¥çš„æ–‡ä»¶å•ç‹¬å­˜å‚¨åˆ°å¤±è´¥ç›®å½•
- **ç‹¬ç«‹é‡è¯•æ¨¡å¼** - æ”¯æŒå•ç‹¬é‡è¯•ä¹‹å‰å¤±è´¥çš„æ–‡ä»¶
- **è¯¦ç»†é”™è¯¯æ—¥å¿—** - æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œå¤„ç†çŠ¶æ€
- **ç½‘ç»œè¶…æ—¶ä¿æŠ¤** - è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼Œé¿å…é•¿æ—¶é—´ç­‰å¾…

## ğŸ“¦ å®‰è£…è¦æ±‚

### Node.js ç¯å¢ƒ
- **Node.js** >= 14.0.0
- **npm** æˆ– **pnpm** åŒ…ç®¡ç†å™¨

### ä¾èµ–åŒ…å®‰è£…

```bash
# ä½¿ç”¨ npm å®‰è£…ä¾èµ–
npm install

# æˆ–ä½¿ç”¨ pnpm å®‰è£…ä¾èµ–
pnpm install
```

## ğŸš€ å¿«é€Ÿå¼€å§‹


### 1. å‡†å¤‡å›¾ç‰‡æ–‡ä»¶
å°†éœ€è¦å‹ç¼©çš„å›¾ç‰‡æ”¾åœ¨ `static` ç›®å½•ä¸­ï¼ˆæˆ–ä¿®æ”¹é…ç½®ä¸­çš„ `SOURCE_ROOT` è·¯å¾„ï¼‰

### 2. è¿è¡Œå‹ç¼©
```bash
# æ‰§è¡Œå®Œæ•´å‹ç¼©æµç¨‹
node index.js

# ä»…é‡è¯•ä¹‹å‰å‹ç¼©å¤±è´¥çš„æ–‡ä»¶
node index.js --retry-failed
```


## âš™ï¸ é…ç½®è¯´æ˜

**æ‰€æœ‰é…ç½®é¡¹éƒ½åœ¨ `index.js` æ–‡ä»¶é¡¶éƒ¨çš„ `CONFIG` å¯¹è±¡ä¸­**


## ğŸ“– ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

#### 1. æ­£å¸¸å‹ç¼©æ¨¡å¼
```bash
node index.js
```
**åŠŸèƒ½è¯´æ˜ï¼š**
- æ‰«ææºç›®å½•ä¸­çš„æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶
- ä½¿ç”¨ TinyPNG API è¿›è¡Œå‹ç¼©
- å°†å‹ç¼©åçš„æ–‡ä»¶ä¿å­˜åˆ°è¾“å‡ºç›®å½•
- å¤åˆ¶éå‹ç¼©æ ¼å¼æ–‡ä»¶ï¼ˆå¦‚ SVGã€GIFï¼‰
- å°†å¤±è´¥çš„æ–‡ä»¶å¤åˆ¶åˆ°å¤±è´¥ç›®å½•
- è‡ªåŠ¨é‡è¯•å¤±è´¥ç›®å½•ä¸­çš„æ–‡ä»¶

#### 2. ä»…é‡è¯•å¤±è´¥æ¨¡å¼
```bash
node index.js --retry-failed
```
**åŠŸèƒ½è¯´æ˜ï¼š**
- åªå¤„ç†ä¹‹å‰å‹ç¼©å¤±è´¥çš„æ–‡ä»¶
- ä»å¤±è´¥ç›®å½•ä¸­è¯»å–æ–‡ä»¶è¿›è¡Œé‡æ–°å‹ç¼©
- æˆåŠŸåä»å¤±è´¥ç›®å½•ä¸­ç§»é™¤æ–‡ä»¶

### ç›®å½•ç»“æ„ç¤ºä¾‹

#### å‹ç¼©å‰çš„ç›®å½•ç»“æ„ï¼š
```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ static/                    # æºå›¾ç‰‡ç›®å½•
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ photo1.jpg
â”‚   â”‚   â”œâ”€â”€ photo2.png
â”‚   â”‚   â””â”€â”€ icon.svg
â”‚   â”œâ”€â”€ avatars/
â”‚   â”‚   â”œâ”€â”€ user1.jpg
â”‚   â”‚   â””â”€â”€ user2.png
â”‚   â””â”€â”€ banner.webp
â”œâ”€â”€ index.js
â””â”€â”€ README.md
```

#### å‹ç¼©åçš„ç›®å½•ç»“æ„ï¼š
```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ static/                    # åŸå§‹å›¾ç‰‡ç›®å½•ï¼ˆä¿æŒä¸å˜ï¼‰
â”œâ”€â”€ compressed_results/        # å‹ç¼©åçš„å›¾ç‰‡ç›®å½•
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ photo1.jpg        # å·²å‹ç¼©
â”‚   â”‚   â”œâ”€â”€ photo2.png        # å·²å‹ç¼©
â”‚   â”‚   â””â”€â”€ icon.svg          # ç›´æ¥å¤åˆ¶
â”‚   â”œâ”€â”€ avatars/
â”‚   â”‚   â”œâ”€â”€ user1.jpg         # å·²å‹ç¼©
â”‚   â”‚   â””â”€â”€ user2.png         # å·²å‹ç¼©
â”‚   â””â”€â”€ banner.webp           # å·²å‹ç¼©
â”œâ”€â”€ failed_images/             # å¤±è´¥æ–‡ä»¶ç›®å½•ï¼ˆå¦‚æœæœ‰å¤±è´¥ï¼‰
â”‚   â””â”€â”€ failed_image.jpg
â”œâ”€â”€ index.js
â””â”€â”€ README.md
```

## ğŸ“Š å¤„ç†ç»“æœç¤ºä¾‹

### æ§åˆ¶å°è¾“å‡ºç¤ºä¾‹
```
ğŸš€ TinyPNG é€’å½’ç›®å½•å›¾ç‰‡å‹ç¼©å·¥å…·
[====================] 15/15 100% 0.0s

==================================================
âœ… æˆåŠŸå‹ç¼©: 13 å¼ 
âŒ å¤„ç†å¤±è´¥: 2 å¼ 
ğŸ“¦ åŸå§‹å¤§å°: 25.67 MB
ğŸ“¦ å‹ç¼©åå¤§å°: 18.32 MB
ğŸ’¾ èŠ‚çœç©ºé—´: 7.35 MB (28.6%)
ğŸ“ å¤åˆ¶éå‹ç¼©æ ¼å¼æ–‡ä»¶å®Œæˆ
ğŸ“ æ‰€æœ‰å¤±è´¥æ–‡ä»¶å·²ä¿å­˜åˆ°ç›®å½•: /path/to/failed_images

ğŸ‰ åˆæ¬¡å‹ç¼©å®Œæˆï¼ç»“æœä¿å­˜åœ¨: /path/to/compressed_results

ğŸ” å¼€å§‹é‡æ–°å‹ç¼©å¤±è´¥å›¾ç‰‡ (2 å¼ )...
[====================] 2/2 100% 0.0s
ğŸ¯ é‡æ–°å‹ç¼©å®Œæˆï¼ŒæˆåŠŸ 1 å¼ ï¼Œå¤±è´¥ 1 å¼ 
âš ï¸ ä»æœ‰å¤±è´¥æ–‡ä»¶ï¼Œä¿ç•™åœ¨å¤±è´¥ç›®å½•ä¸­ï¼Œéœ€æ‰‹åŠ¨å¤„ç†ã€‚
```

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰æºç›®å½•å’Œè¾“å‡ºç›®å½•
```javascript
const CONFIG = {
  SOURCE_ROOT: path.join(__dirname, 'my-images'),      // è‡ªå®šä¹‰éœ€è¦å‹ç¼©çš„å›¾ç‰‡ç›®å½•
  OUTPUT_ROOT: path.join(__dirname, 'compressed'),     // è‡ªå®šä¹‰è¾“å‡ºç›®å½•
  // ... å…¶ä»–é…ç½®
};
```

### è°ƒæ•´å¹¶å‘æ•°é‡
```javascript
const CONFIG = {
  MAX_CONCURRENT: 3,  // è®¾ç½®ä¸ºå›ºå®šçš„å¹¶å‘æ•°
  // æˆ–è€…
  MAX_CONCURRENT: Math.min(6, os.cpus().length), // æœ€å¤§ä¸è¶…è¿‡6ä¸ªå¹¶å‘
  // ... å…¶ä»–é…ç½®
};
```

### 


### è°ƒæ•´ç½‘ç»œè®¾ç½®
```javascript
const CONFIG = {
  TIMEOUT: 60000,     // å¢åŠ è¶…æ—¶æ—¶é—´åˆ°60ç§’
  MAX_RETRIES: 5,     // å¢åŠ é‡è¯•æ¬¡æ•°åˆ°5æ¬¡
  TASK_DELAY: 500,    // å¢åŠ ä»»åŠ¡é—´å»¶è¿Ÿåˆ°500æ¯«ç§’
  // ... å…¶ä»–é…ç½®
};
```

## âš ï¸ æ³¨æ„äº‹é¡¹

**ç¦æ­¢æ·»åŠ ä¿®æ”¹ SUPPORTED_FORMATS,è¿™ä¸ªæ˜¯ TinyPNG æ”¯æŒçš„å›¾ç‰‡, æ·»åŠ ä¿®æ”¹ä¸æ”¯æŒçš„å›¾ç‰‡æ ¼å¼ä¼šå‹ç¼©å¤±è´¥**
```javascript
const CONFIG = {
  SUPPORTED_FORMATS: ['.jpg', '.jpeg', '.png', '.webp'],
};
```

### TinyPNG API é™åˆ¶
- **å…è´¹é¢åº¦**ï¼šæ¯æœˆ500å¼ å›¾ç‰‡çš„å…è´¹å‹ç¼©é¢åº¦
- **APIå¯†é’¥**ï¼šæœ¬å·¥å…·ä½¿ç”¨ TinyPNG ç½‘é¡µç‰ˆçš„æ¥å£ï¼Œæ— éœ€ API Key
- **è¯·æ±‚é¢‘ç‡**ï¼šå»ºè®®ä¸è¦è®¾ç½®è¿‡å°çš„ `TASK_DELAY` å€¼ï¼Œé¿å…è¢«é™æµ

### æ–‡ä»¶å¤„ç†è¯´æ˜
- **åŸå§‹æ–‡ä»¶ä¿æŠ¤**ï¼šå·¥å…·ä¸ä¼šä¿®æ”¹æˆ–åˆ é™¤æºç›®å½•ä¸­çš„åŸå§‹æ–‡ä»¶
- **è¦†ç›–è¡Œä¸º**ï¼šå¦‚æœè¾“å‡ºç›®å½•ä¸­å·²å­˜åœ¨åŒåæ–‡ä»¶ï¼Œä¼šè¢«è¦†ç›–
- **å¤±è´¥æ–‡ä»¶**ï¼šå‹ç¼©å¤±è´¥çš„æ–‡ä»¶ä¼šè¢«å¤åˆ¶åˆ°å¤±è´¥ç›®å½•ï¼Œä¾¿äºåç»­å¤„ç†

### æ€§èƒ½ä¼˜åŒ–å»ºè®®
- **å¹¶å‘æ•°é‡**ï¼šæ ¹æ®ç½‘ç»œçŠ¶å†µå’Œæœºå™¨æ€§èƒ½è°ƒæ•´ `MAX_CONCURRENT`
- **ä»»åŠ¡å»¶è¿Ÿ**ï¼šç½‘ç»œè¾ƒæ…¢æ—¶å¯é€‚å½“å¢åŠ  `TASK_DELAY`
- **è¶…æ—¶æ—¶é—´**ï¼šå¤§æ–‡ä»¶å¤„ç†æ—¶å¯é€‚å½“å¢åŠ  `TIMEOUT` å€¼


## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œä¸ªäººä½¿ç”¨ï¼Œè¯·éµå®ˆ TinyPNG çš„ä½¿ç”¨æ¡æ¬¾ã€‚

---

**ä½œè€…**: æ— å¿§  
**ç‰ˆæœ¬**: 1.2.0  
**æ›´æ–°æ—¶é—´**: 2025

> ğŸ’¡ **å°è´´å£«**ï¼šé¦–æ¬¡ä½¿ç”¨å»ºè®®å…ˆç”¨å°‘é‡å›¾ç‰‡æµ‹è¯•ï¼Œç¡®è®¤é…ç½®æ­£ç¡®åå†å¤„ç†å¤§æ‰¹é‡æ–‡ä»¶ã€‚ 

# TinyPNG å›¾ç‰‡å‹ç¼©å™¨ VS Code æ’ä»¶ ğŸš€

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ VS Code æ’ä»¶ï¼ŒåŸºäº TinyPNG API çš„é«˜æ•ˆå›¾ç‰‡æ‰¹é‡å‹ç¼©å·¥å…·ã€‚æ”¯æŒå³é”®ç‚¹å‡»æ–‡ä»¶å¤¹ä¸€é”®å‹ç¼©ï¼Œæ— éœ€å¤æ‚é…ç½®ï¼Œæå¤§æå‡å¼€å‘æ•ˆç‡ã€‚

![æ’ä»¶æ¼”ç¤º](https://img.shields.io/badge/VS%20Code-Extension-blue?style=flat-square&logo=visual-studio-code)
![ç‰ˆæœ¬](https://img.shields.io/badge/version-1.0.0-green?style=flat-square)
![è®¸å¯è¯](https://img.shields.io/badge/license-MIT-blue?style=flat-square)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **ä¸€é”®å³é”®å‹ç¼©** - å³é”®ç‚¹å‡»æ–‡ä»¶å¤¹å³å¯å¼€å§‹å‹ç¼©ï¼Œæ— éœ€è¾“å…¥è·¯å¾„
- **æ‰¹é‡å›¾ç‰‡å‹ç¼©** - ä½¿ç”¨ TinyPNG å®˜æ–¹ API è¿›è¡Œé«˜è´¨é‡å›¾ç‰‡å‹ç¼©
- **å¤šæ ¼å¼æ”¯æŒ** - æ”¯æŒ `.jpg`ã€`.jpeg`ã€`.png`ã€`.webp` æ ¼å¼çš„å›¾ç‰‡å‹ç¼©
- **ç›®å½•ç»“æ„ä¿æŒ** - å‹ç¼©åçš„æ–‡ä»¶ä¿æŒä¸åŸç›®å½•ç›¸åŒçš„æ–‡ä»¶å¤¹ç»“æ„
- **éå‹ç¼©æ–‡ä»¶å¤åˆ¶** - è‡ªåŠ¨å¤åˆ¶ `.svg`ã€`.gif` ç­‰éå‹ç¼©æ ¼å¼æ–‡ä»¶åˆ°è¾“å‡ºç›®å½•

### âš¡ æ€§èƒ½ä¼˜åŒ–
- **å¤šå¹¶å‘å¤„ç†** - å¯é…ç½®å¹¶å‘æ•°é‡ï¼Œæé«˜å¤„ç†æ•ˆç‡
- **æ™ºèƒ½é‡è¯•æœºåˆ¶** - å¤±è´¥æ–‡ä»¶è‡ªåŠ¨é‡è¯•ï¼Œæœ€å¤§é‡è¯•æ¬¡æ•°å¯é…ç½®
- **ä»»åŠ¡å»¶è¿Ÿæ§åˆ¶** - é¿å…è¿‡äºé¢‘ç¹çš„ API è¯·æ±‚ï¼Œé˜²æ­¢è¢«é™æµ
- **å®æ—¶è¿›åº¦æ˜¾ç¤º** - VS Code åŸç”Ÿè¿›åº¦æ¡ï¼Œå®æ—¶æ˜¾ç¤ºå‹ç¼©è¿›åº¦

### ğŸ›¡ï¸ é”™è¯¯å¤„ç†
- **è¯¦ç»†é”™è¯¯æ—¥å¿—** - æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œå¤„ç†çŠ¶æ€
- **å¤±è´¥æ–‡ä»¶ç»Ÿè®¡** - æ˜¾ç¤ºå¤±è´¥æ–‡ä»¶åˆ—è¡¨å’Œå…·ä½“é”™è¯¯åŸå› 
- **ç½‘ç»œè¶…æ—¶ä¿æŠ¤** - è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼Œé¿å…é•¿æ—¶é—´ç­‰å¾…
- **å‹å¥½ç”¨æˆ·ç•Œé¢** - æ¸…æ™°çš„æˆåŠŸ/å¤±è´¥æç¤ºå’Œç»Ÿè®¡ä¿¡æ¯

## ğŸš€ VS Code æ’ä»¶å®‰è£…å’Œä½¿ç”¨

### å®‰è£…æ–¹æ³•

#### æ–¹æ³•ä¸€ï¼šä» VS Code å¸‚åœºå®‰è£…ï¼ˆæ¨èï¼‰
1. æ‰“å¼€ VS Code
2. ç‚¹å‡»å·¦ä¾§æ‰©å±•å›¾æ ‡ æˆ–æŒ‰ `Ctrl+Shift+X`
3. æœç´¢ "TinyPNG å›¾ç‰‡å‹ç¼©å™¨"
4. ç‚¹å‡»å®‰è£…

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…
1. ä¸‹è½½æ’ä»¶æ–‡ä»¶
2. åœ¨ VS Code ä¸­æŒ‰ `Ctrl+Shift+P` æ‰“å¼€å‘½ä»¤é¢æ¿
3. è¾“å…¥ "Extensions: Install from VSIX"
4. é€‰æ‹©ä¸‹è½½çš„ .vsix æ–‡ä»¶

### ä½¿ç”¨æ–¹æ³•

#### ğŸ–±ï¸ å³é”®å‹ç¼©ï¼ˆæ¨èï¼‰
1. åœ¨ VS Code æ–‡ä»¶æµè§ˆå™¨ä¸­æ‰¾åˆ°åŒ…å«å›¾ç‰‡çš„æ–‡ä»¶å¤¹
2. **å³é”®ç‚¹å‡»æ–‡ä»¶å¤¹**
3. é€‰æ‹© **"TinyPNG å‹ç¼©å›¾ç‰‡"** é€‰é¡¹
4. ç­‰å¾…å‹ç¼©å®Œæˆï¼ŒæŸ¥çœ‹ç»“æœç»Ÿè®¡
5. å¯é€‰æ‹© **"æ‰“å¼€è¾“å‡ºæ–‡ä»¶å¤¹"** æŸ¥çœ‹å‹ç¼©åçš„å›¾ç‰‡

#### âŒ¨ï¸ å‘½ä»¤é¢æ¿
1. åœ¨ VS Code ä¸­æŒ‰ `Ctrl+Shift+P` æ‰“å¼€å‘½ä»¤é¢æ¿
2. è¾“å…¥ "TinyPNG å‹ç¼©å›¾ç‰‡"
3. é€‰æ‹©è¦å‹ç¼©çš„æ–‡ä»¶å¤¹

### ğŸ”§ æ’ä»¶é…ç½®

åœ¨ VS Code è®¾ç½®ä¸­æœç´¢ "tinypng" å¯ä»¥æ‰¾åˆ°ä»¥ä¸‹é…ç½®é€‰é¡¹ï¼š

| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| `tinypng-compressor.maxConcurrent` | `3` | æœ€å¤§å¹¶å‘å¤„ç†æ•°é‡ (1-10) |
| `tinypng-compressor.taskDelay` | `300` | ä»»åŠ¡é—´å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰(100-2000) |
| `tinypng-compressor.timeout` | `30000` | ç½‘ç»œè¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰(5000-60000) |
| `tinypng-compressor.maxRetries` | `2` | å¤±è´¥é‡è¯•æœ€å¤§æ¬¡æ•° (0-5) |
| `tinypng-compressor.preserveStructure` | `true` | æ˜¯å¦ä¿æŒåŸæœ‰ç›®å½•ç»“æ„ |
| `tinypng-compressor.copyUnsupported` | `true` | æ˜¯å¦å¤åˆ¶éå‹ç¼©æ ¼å¼æ–‡ä»¶åˆ°è¾“å‡ºç›®å½• |
| `tinypng-compressor.outputSuffix` | `"_compressed"` | è¾“å‡ºç›®å½•åç¼€å |

### ğŸ“Š ä½¿ç”¨ç¤ºä¾‹

#### å‹ç¼©å‰çš„ç›®å½•ç»“æ„ï¼š
```
my-project/
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ photo1.jpg      (2.5MB)
â”‚   â”‚   â”œâ”€â”€ photo2.png      (1.8MB)
â”‚   â”‚   â””â”€â”€ icon.svg        (å¤åˆ¶)
â”‚   â”œâ”€â”€ avatars/
â”‚   â”‚   â”œâ”€â”€ user1.jpg       (800KB)
â”‚   â”‚   â””â”€â”€ user2.png       (1.2MB)
â”‚   â””â”€â”€ banner.webp         (3.1MB)
```

#### å³é”®ç‚¹å‡» `assets` æ–‡ä»¶å¤¹ â†’ é€‰æ‹© "TinyPNG å‹ç¼©å›¾ç‰‡"

#### å‹ç¼©åçš„ç›®å½•ç»“æ„ï¼š
```
my-project/
â”œâ”€â”€ assets/                 # åŸå§‹æ–‡ä»¶ï¼ˆä¿æŒä¸å˜ï¼‰
â”œâ”€â”€ assets_compressed/      # å‹ç¼©åæ–‡ä»¶
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ photo1.jpg      (1.8MB, èŠ‚çœ28%)
â”‚   â”‚   â”œâ”€â”€ photo2.png      (1.3MB, èŠ‚çœ28%)
â”‚   â”‚   â””â”€â”€ icon.svg        (ç›´æ¥å¤åˆ¶)
â”‚   â”œâ”€â”€ avatars/
â”‚   â”‚   â”œâ”€â”€ user1.jpg       (580KB, èŠ‚çœ28%)
â”‚   â”‚   â””â”€â”€ user2.png       (860KB, èŠ‚çœ28%)
â”‚   â””â”€â”€ banner.webp         (2.2MB, èŠ‚çœ29%)
```

#### ç»“æœç»Ÿè®¡ï¼š
```
âœ… æˆåŠŸ: 5 å¼ 
âŒ å¤±è´¥: 0 å¼ 
ğŸ’¾ èŠ‚çœç©ºé—´: 2.7 MB (28.5%)
ğŸ“ è¾“å‡ºç›®å½•: assets_compressed
```

## ğŸ“¦ å¼€å‘ç¯å¢ƒå®‰è£…

å¦‚æœæ‚¨æƒ³å‚ä¸å¼€å‘æˆ–æœ¬åœ°è°ƒè¯•ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

### Node.js ç¯å¢ƒ
- **Node.js** >= 14.0.0
- **npm** æˆ– **pnpm** åŒ…ç®¡ç†å™¨

### ä¾èµ–åŒ…å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/xiaofeiwuuu/TinyPNG.git
cd TinyPNG

# å®‰è£…ä¾èµ–
pnpm install
# æˆ–
npm install
```

### å¼€å‘è°ƒè¯•

```bash
# å¯åŠ¨å¼€å‘æ¨¡å¼
code .

# åœ¨ VS Code ä¸­æŒ‰ F5 å¯åŠ¨è°ƒè¯•
# è¿™å°†æ‰“å¼€ä¸€ä¸ªæ–°çš„ VS Code çª—å£ï¼Œæ’ä»¶å·²åŠ è½½
```

### æ‰“åŒ…æ’ä»¶

```bash
# å®‰è£… vsce å·¥å…·
npm install -g vsce

# æ‰“åŒ…æ’ä»¶
vsce package
```

## âš™ï¸ é…ç½®è¯¦è§£

### æ€§èƒ½ä¼˜åŒ–é…ç½®
```json
{
  "tinypng-compressor.maxConcurrent": 3,     // æ¨èå€¼ï¼š2-5
  "tinypng-compressor.taskDelay": 300,       // ç½‘ç»œæ…¢æ—¶å¢åŠ åˆ°500-1000
  "tinypng-compressor.timeout": 30000        // å¤§æ–‡ä»¶æ—¶å¢åŠ åˆ°60000
}
```

### åŠŸèƒ½é…ç½®
```json
{
  "tinypng-compressor.preserveStructure": true,    // ä¿æŒç›®å½•ç»“æ„
  "tinypng-compressor.copyUnsupported": true,      // å¤åˆ¶SVGç­‰æ–‡ä»¶
  "tinypng-compressor.outputSuffix": "_compressed"  // è‡ªå®šä¹‰è¾“å‡ºç›®å½•å
}
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### TinyPNG API é™åˆ¶
- **å…è´¹é¢åº¦**ï¼šæ¯æœˆ500å¼ å›¾ç‰‡çš„å…è´¹å‹ç¼©é¢åº¦
- **APIæ¥å£**ï¼šæœ¬æ’ä»¶ä½¿ç”¨ TinyPNG ç½‘é¡µç‰ˆçš„æ¥å£ï¼Œæ— éœ€ API Key
- **è¯·æ±‚é¢‘ç‡**ï¼šå»ºè®®ä¸è¦è®¾ç½®è¿‡å°çš„ `taskDelay` å€¼ï¼Œé¿å…è¢«é™æµ

### æ–‡ä»¶å¤„ç†è¯´æ˜
- **åŸå§‹æ–‡ä»¶ä¿æŠ¤**ï¼šæ’ä»¶ä¸ä¼šä¿®æ”¹æˆ–åˆ é™¤æºç›®å½•ä¸­çš„åŸå§‹æ–‡ä»¶
- **è¦†ç›–è¡Œä¸º**ï¼šå¦‚æœè¾“å‡ºç›®å½•ä¸­å·²å­˜åœ¨åŒåæ–‡ä»¶ï¼Œä¼šè¢«è¦†ç›–
- **å®‰å…¨æ€§**ï¼šæ‰€æœ‰æ“ä½œéƒ½åœ¨æœ¬åœ°è¿›è¡Œï¼Œé™¤äº†å‘ TinyPNG å‘é€å›¾ç‰‡æ•°æ®

### ä½¿ç”¨å»ºè®®
- **é¦–æ¬¡ä½¿ç”¨**ï¼šå»ºè®®å…ˆç”¨å°‘é‡å›¾ç‰‡æµ‹è¯•ï¼Œç¡®è®¤æ•ˆæœåå†å¤„ç†å¤§æ‰¹é‡æ–‡ä»¶
- **ç½‘ç»œçŠ¶å†µ**ï¼šç½‘ç»œä¸ç¨³å®šæ—¶å¯é€‚å½“å¢åŠ è¶…æ—¶æ—¶é—´å’Œé‡è¯•æ¬¡æ•°
- **æ–‡ä»¶å¤§å°**ï¼šè¶…å¤§æ–‡ä»¶ï¼ˆ>5MBï¼‰å»ºè®®å…ˆæ‰‹åŠ¨ä¼˜åŒ–åå†ä½¿ç”¨æ’ä»¶

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. å³é”®èœå•æ²¡æœ‰å‡ºç°
**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®ä¿å³é”®ç‚¹å‡»çš„æ˜¯æ–‡ä»¶å¤¹ï¼Œä¸æ˜¯æ–‡ä»¶
- é‡å¯ VS Code
- æ£€æŸ¥æ’ä»¶æ˜¯å¦æ­£ç¡®å®‰è£…å’Œå¯ç”¨

#### 2. å‹ç¼©å¤±è´¥ç‡è¿‡é«˜
**è§£å†³æ–¹æ¡ˆ**ï¼š
- å¢åŠ  `taskDelay` å€¼ï¼ˆå¦‚ 500-1000msï¼‰
- å‡å°‘ `maxConcurrent` å€¼
- æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€

#### 3. è¿›åº¦æ¡å¡ä½ä¸åŠ¨
**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç­‰å¾…ç½‘ç»œè¯·æ±‚å®Œæˆ
- å¢åŠ  `timeout` å€¼
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

#### 4. è¾“å‡ºç›®å½•æƒé™é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥ç›®å½•æƒé™
- ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
- å°è¯•æ›´æ¢è¾“å‡ºç›®å½•ä½ç½®

## ğŸ¯ è·¯çº¿å›¾

### è®¡åˆ’ä¸­çš„åŠŸèƒ½
- [ ] æ”¯æŒæ›´å¤šå›¾ç‰‡æ ¼å¼ï¼ˆBMPã€TIFFï¼‰
- [ ] æ‰¹é‡é‡å‘½ååŠŸèƒ½
- [ ] å‹ç¼©è´¨é‡å¯é€‰
- [ ] é›†æˆå…¶ä»–å‹ç¼©æœåŠ¡
- [ ] å‹ç¼©å†å²è®°å½•
- [ ] å¿«æ·é”®æ”¯æŒ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªæ’ä»¶ï¼

### å¦‚ä½•è´¡çŒ®
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºä½ çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤ä½ çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ä¸€ä¸ª Pull Request

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·ï¼š

- åœ¨ [GitHub Issues](https://github.com/xiaofeiwuuu/TinyPNG/issues) ä¸­æäº¤é—®é¢˜
- å‘é€é‚®ä»¶è‡³ï¼šyour-email@example.com
- åœ¨ [Gitee Issues](https://gitee.com/xiaofeiwuu/tiny-png/issues) ä¸­æäº¤é—®é¢˜

---

**ä½œè€…**: xiaofeiwu  
**ç‰ˆæœ¬**: 1.0.0  
**æ›´æ–°æ—¶é—´**: 2024-12-20

> ğŸ’¡ **å°è´´å£«**ï¼šä½¿ç”¨æ’ä»¶å‰å»ºè®®å…ˆå¤‡ä»½é‡è¦å›¾ç‰‡æ–‡ä»¶ï¼Œè™½ç„¶æ’ä»¶ä¸ä¼šä¿®æ”¹åŸå§‹æ–‡ä»¶ï¼Œä½†è°¨æ…æ€»æ˜¯å¥½çš„ï¼

---

## ğŸŒŸ Star History

[![Star History Chart](https://api.star-history.com/svg?repos=xiaofeiwuuu/TinyPNG&type=Date)](https://star-history.com/#xiaofeiwuuu/TinyPNG&Date)

**å¦‚æœè¿™ä¸ªæ’ä»¶å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸ Starï¼** 